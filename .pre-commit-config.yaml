repos:
  # General file checks
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: check-added-large-files
        args: ['--maxkb=5000']

  # R code formatting with styler
  - repo: https://github.com/lorenzwalthert/precommit
    rev: v0.4.2
    hooks:
      - id: style-files
        args: [--style_pkg=styler, --style_fun=tidyverse_style]
        files: '\.(R|Rmd|Rnw|qmd)$'
      - id: readme-rmd-rendered
        exclude: '^README\.Rmd$'
      - id: parsable-R
      - id: no-browser-statement
      - id: no-debug-statement

  # Julia formatting (requires JuliaFormatter.jl)
  - repo: local
    hooks:
      - id: julia-format
        name: julia-format
        entry: julia --project=. -e 'using JuliaFormatter; format(".")'
        language: system
        files: '\.jl$'
        pass_filenames: false

  # Spell checking
  - repo: https://github.com/codespell-project/codespell
    rev: v2.2.6
    hooks:
      - id: codespell
        args: ['--ignore-words=paper/.wordlist.txt', '--skip=*.bib,*.pdf,*.png,*.jpg,*.jpeg']
        exclude: '^(data/|output/|\.git/|\.quarto/|_freeze/)'

  # YAML linting
  - repo: https://github.com/adrienverge/yamllint
    rev: v1.35.1
    hooks:
      - id: yamllint
        args: [--strict]
        files: '\.(yaml|yml)$'
